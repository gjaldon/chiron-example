<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Chiron</title>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="vendor.css">
    <link rel="stylesheet" type="text/css" href="app.css">
  </head>
  <body>
    <script type="text/x-handlebars" data-template-name="application">

      <header class="header">
        <div class="pure-menu pure-menu-open pure-menu-horizontal">
          {{#link-to 'index' class="pure-menu-heading"}}Chiron{{/link-to}}
        </div>
      </header>

      <div class="sidebar">
        <nav class="pure-menu pure-menu-open">
          <ul>
            <li><a href="/">Appointments</a></li>
            <li>{{#link-to 'patients'}}Patients{{/link-to}}</li>
            <li><a href="#">Treatment Plans</a></li>
            <li><a href="#">Templates</a></li>
            <li><a href="#">Inventory</a></li>
            <li><a href="#">Reports</a></li>
          </ul>
        </nav>
      </div>

      <main>{{outlet}}</main>
    </script>

    <script type="text/x-handlebars" data-template-name="index">
      Index!
    </script>

    <script type="text/x-handlebars" data-template-name="patients">
      <header class="page-heading">
        <h1>Patients</h1>
        {{#link-to 'patients.new' class="pure-button pure-button-primary"}}Create Patient{{/link-to}}
      </header>
      {{#if model}}
        <table class="pure-table pure-table-horizontal">
          <thead>
            <tr>
              <th>Name</th>
              <th>Main Contact #</th>
              <th>Birthdate</th>
              <th>Actions</th>
            </tr>
          </thead>

          <tbody>
            {{#each patient in controller itemController="patient"}}
              <tr>
                <td>{{patient.name}}</td>
                <td>{{patient.main_contact}}</td>
                <td>{{patient.birthdate}}</td>
                <td>
                  <a href="#" class="pure-button">View Details</a>
                  {{#link-to 'patients.edit' patient class="pure-button"}}Edit{{/link-to}}
                  <button {{action "deletePatient"}} class="pure-button">Delete</button>
                </td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      {{else}}
        <p>
          You have not created any patient records. Click on the 'Create Patient' button at
          the top right to create one.
        </p>
      {{/if}}

      {{outlet modal}}
    </script>

    <script type="text/x-handlebars" data-template-name="patients/new">
      {{#modal-dialog action="closeModal"}}
        <header class="modal-heading">
          <h1>Create Patient</h1>
          {{#link-to 'patients' class="modal-close"}}x{{/link-to}}
        </header>

        {{partial 'patientForm'}}
      {{/modal-dialog}}
    </script>

    <script type="text/x-handlebars" data-template-name="patients/edit">
      {{#modal-dialog action="closeModal"}}
        <header class="modal-heading">
          <h1>Edit Patient</h1>
          {{#link-to 'patients' class="modal-close"}}x{{/link-to}}
        </header>

        {{partial 'patientForm'}}
      {{/modal-dialog}}
    </script>

    <script type="text/x-handlebars" data-template-name="_patientForm">
      <form class="pure-form pure-form-aligned">
        <fieldset>
          <div class="pure-control-group">
            <label class="required" for="name">Full Name</label>
            {{input type="text" value=name id="name" required="true" placeholder="Lastname, First M"}}
          </div>

          <div class="pure-control-group">
            <label class="required" for="birthdate">Birthdate</label>
            {{input type="text" value=birthdate id="birthdate" required="true" placeholder="Jan 1, 1985"}}
          </div>

          <div class="pure-control-group">
            <label class="required" for="main-contact">Main Contact No.</label>
            {{input type="text" value=main_contact id="main-contact" required="true" placeholder="0915-900-9000"}}
          </div>

          <div class="pure-control-group">
            <label for="mobile-no">Mobile No.</label>
            {{input type="text" value=mobile_no id="mobile-no" placeholder="0915-900-9000"}}
          </div>

          <div class="pure-control-group">
            <label for="landline">Landline No.</label>
            {{input type="text" value=landline id="landline" placeholder="222-2222"}}
          </div>

          <div class="pure-control-group">
            <label for="email">Email</label>
            {{input type="text" value=email id="email" placeholder="john@doe.com"}}
          </div>

          <div class="pure-control-group">
            <label for="home-address">Home Address</label>
            {{textarea type="text" value=home_address id="home-address" placeholder="#10 1st Street, Matina, Davao City"}}
          </div>

          <div class="pure-control-group">
            <label class="required">Gender</label>
            <label for="gender-male" class="pure-radio form-align-action">
              {{input type="radio" value=gender name="gender" value="male"}}
              Male
            </label>

            <label for="gender-female" class="pure-radio form-align-action">
              {{input type="radio" value=gender name="gender" value="female"}}
              Female
            </label>
          </div>

          <div class="form-controls">
            <button {{action submitForm}} class="pure-button pure-button-primary">Submit</button>
          </div>
        </fieldset>
      </form>
    </script>

    <script type="text/x-handlebars" id="components/modal-dialog">
      <div class="overlay" {{action "closeModal"}}></div>
      <div class="modal">{{yield}}</div>
    </script>
  </body>
  <script src="vendor.js"></script>
  <script src="app.js"></script>
</html>
